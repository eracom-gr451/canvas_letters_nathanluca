<doctype htm>
<html>
	<head>
			<script src ="jquery-1.11.2.min.js"></script>
			<link rel="stylesheet" type="text/css" href="style.css">
			<link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
			<script src="https://eracom-gr451.github.io/projet-canvas-launcher/nextlevel.js"></script>
	</head>
	<body>
	<script>

		$( document).ready(function() {

			var repeater;

			var numerotation = 0;

			var positionverticale = 76;

			var alphabet = new Array("a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z");

			var gameover = -16;

			function ProchaineLettre() {

				repeater = setTimeout(ProchaineLettre, 1000);

				numerotation = numerotation + 1;

				var glyph = alphabet[Math.floor(Math.random()*alphabet.length)];

				// position aléatoire entre 5 et 95...

				var position = Math.floor((Math.random() * 92) + 1);



				// 1. on créé la prochaine lettre.
				$("body").append("<h1 class='lettre lettre-no-"+numerotation+"'>"+glyph+"</h1>");

				// 2. on lui applique l'animation.

				$( ".lettre-no-"+numerotation ).animate({
					top: positionverticale+ "vh"
					}, 1000, "linear", function() {
					// Animation complete.
				});

				// on applique du CSS à un élément, exemple:

				$( ".lettre-no-"+numerotation ).css({
			      "left": position+"%",
			      "font-weight": "bolder"
			    });

				if (positionverticale < gameover) {
					// alert("gameover lol");
					NextLevel();
					stop();

					}

				// on diminue la hauteur pour faire monter les lettres

				positionverticale = positionverticale - 10;





			};

			// À étudier:
			// setInterval(ProchaineLettre, 20000);
			// setTimeout

		ProchaineLettre();

		function stop() {
        if (repeater) {
            clearTimeout(repeater);
            timer = 0;
						console.log("called stop");
        }
		}

		});

	</script>


	</body>
</html>
